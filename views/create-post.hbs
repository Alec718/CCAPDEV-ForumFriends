{{!-- create-post.hbs --}}
<header class="header">
  <div class="container d-flex justify-content-between align-items-center">
    <div class="d-flex align-items-center">
      <img src="/images/forum-friends-logo.png" alt="Forum Friends Logo" class="logo" style="width:180px; height:auto;" />
    </div>
    <nav class="d-flex gap-3">
      <a href="/about" class="nav-link">About</a>
      <a href="/home" class="nav-link">Home</a>
      <a href="/profile/{{user.username}}" class="nav-link">Profile</a>
      <a href="/logout" class="nav-link">Logout</a>
    </nav>
  </div>
</header>

<main class="container">
  <div class="create-post-container">
    <h2 class="text-center">Create a New Post</h2>

    <!-- Form method for creating a post -->
    <form method="POST" action="/create-post">
      <div class="mb-3">
        <label for="postTitle" class="form-label">Post Title</label>
        <input type="text" class="form-control" name="postTitle" id="postTitle" placeholder="Enter your post title" required>
      </div>
      <div class="mb-3">
        <label for="postContent" class="form-label">Post Content</label>
        <textarea class="form-control" name="postContent" id="postContent" rows="5" placeholder="Write your post here..." required></textarea>
      </div>
      <div class="mb-3">
        <label for="postTags" class="form-label">Tags (optional)</label>
        <input type="text" class="form-control" name="postTags" id="postTags" placeholder="Enter tags separated by commas">
      </div>
	  <div class="mb-3">
  <label for="postCategory" class="form-label">Category</label>
  <select class="form-control" name="postCategory" id="postCategory" required>
    <option value="Technology">Technology</option>
    <option value="Gaming">Gaming</option>
    <option value="Design">Design</option>
  </select>
</div>
      <!-- Image URL input -->
      <div class="mb-3">
        <label for="postImageURL" class="form-label">Image URL (optional)</label>
        <input type="url" class="form-control" name="postImageURL" id="postImageURL" placeholder="Enter image URL (optional)">
        <small class="form-text">Paste the image URL if you want to include an image with your post.</small>
      </div>

      <div class="d-flex justify-content-end gap-2">
        <a href="/home" class="btn btn-secondary">Cancel</a>
        <button type="submit" class="btn btn-primary">Post</button>
      </div>
    </form>
  </div>
</main>

<footer class="text-center py-3">
  <p class="mb-0">&copy; 2025 Forum Friends</p>
</footer>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Get the theme stored in localStorage
    const savedTheme = localStorage.getItem('theme');
    
    // If a theme is saved, apply it to the page
    if (savedTheme) {
        document.documentElement.setAttribute('data-theme', savedTheme);
    }
  });
</script>